<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>FortniteGPT</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
:root{
  --bg:#1f1f1f; --panel:#2a2a2a; --panel-soft:#303030;
  --text:#e8e8ea; --muted:#9aa0a6; --border:#3a3a3a;
  --pill:#5b5ce2; --white:#ffffff;
}
*{box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Ubuntu,Cantarell,"Helvetica Neue",Arial,sans-serif}
body{margin:0;min-height:100vh;background:var(--bg);color:var(--text);display:flex;flex-direction:column;}
.topbar{height:56px;display:flex;align-items:center;justify-content:space-between;padding:0 16px;border-bottom:1px solid var(--border);}
.left{display:flex;align-items:center;gap:8px;font-weight:600}.caret{opacity:.7}.right{display:flex;align-items:center;gap:12px}.plus{background:var(--pill);color:var(--white);border:none;border-radius:999px;padding:8px 14px;font-weight:600;cursor:pointer}.icon{width:28px;height:28px;border-radius:50%;border:1px solid var(--border);}
.center{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:28px;padding:16px}.title{font-size:32px;font-weight:500;letter-spacing:.2px}
.composer{width:100%;max-width:720px;background:var(--panel);border-radius:999px;padding:10px 14px;display:flex;align-items:center;gap:10px}.btn{width:36px;height:36px;border-radius:50%;border:none;background:transparent;color:var(--text);display:flex;align-items:center;justify-content:center;cursor:pointer}.btn:hover{background:var(--panel-soft)}
.field{flex:1;border:none;outline:none;background:transparent;color:var(--text);font-size:16px}.field::placeholder{color:var(--muted)}
.chat{display:block;flex:1;overflow:auto;padding:16px}.row{padding:10px;display:flex;justify-content:flex-start}.bubble{max-width:720px;width:100%;line-height:1.65;font-size:15px;padding:10px 14px;border-radius:12px;margin-bottom:8px}.assistant{background:#232323;color:#fff}.user{background:#1f1f1f;color:#fff;text-align:right;}
</style>
</head>
<body>

<div class="topbar">
  <div class="left">FortniteGPT <span class="caret">â–¾</span></div>
  <div class="right">
    <button class="plus">âœ¨ Obtenir Plus</button>
    <div class="icon"></div>
    <div class="icon"></div>
  </div>
</div>

<div id="landing" class="center">
  <div class="title">Sur quoi travaillez-vous ?</div>
  <div class="composer">
    <input id="prompt" class="field" placeholder="Poser une question" />
    <button id="send" class="btn">ðŸŽ¤</button>
  </div>
</div>

<div id="chat" class="chat"></div>

<script>
/* ClÃ© API OpenRouter - âš ï¸ Visible pour test perso uniquement */
const API_KEY = "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";

/* Contexte FortniteGPT */
const CONTEXT = `
Tu es FortniteGPT, le chauffeur du bus de combat ðŸš.
Tu racontes ton histoire et guides les joueurs vers la Victory Royale ðŸ†.
Tu ne parles **que en langage Fortnite**, avec des mots comme : crack rush, full shield, loot, build rapide, tilt, clutch, sniper, ramp, rotate, zone safe, chest, revive.
Toujours avec emojis âš¡ï¸ðŸ¹ðŸ›¡ï¸ et comme si tu Ã©tais en plein match.
`;

function addRow(role, text){
  const chat = document.getElementById('chat');
  const row = document.createElement('div');
  row.className = `row ${role}`;
  const b = document.createElement('div');
  b.className = 'bubble';
  b.innerText = text;
  row.appendChild(b);
  chat.appendChild(row);
  chat.scrollTop = chat.scrollHeight;
}

async function sendPrompt(userText){
  const fullPrompt = `${CONTEXT}\nQuestion: ${userText}`;
  addRow('user', userText);
  try {
    const res = await fetch("https://openrouter.ai/api/v1/chat/completions", {
      method: "POST",
      headers: {
        "Content-Type":"application/json",
        "Authorization": `Bearer ${API_KEY}`
      },
      body: JSON.stringify({
        model: "nex-agi/deepseek-v3.1-nex-n1:free",
        messages: [{role:"user", content: fullPrompt}],
        temperature:0.9
      })
    });

    const data = await res.json();
    const reply = data?.results?.[0]?.content?.[0]?.text || "âš¡ï¸ Pas de loot dispo, tilt ! âš¡ï¸ Build, loot, no tilt !";
    addRow('assistant', reply);
  } catch(e){
    console.error(e);
    addRow('assistant', "âš¡ï¸ Erreur rÃ©seau, pas de loot !");
  }
}

document.getElementById("send").onclick = () => {
  const txt = document.getElementById("prompt").value.trim() || "Salut FortniteGPT !";
  sendPrompt(txt);
};
</script>

</body>
</html>
