<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jeux Satisfaisants</title>
<style>
    body {
        margin: 0;
        font-family: 'Montserrat', sans-serif;
        background: #121212;
        color: #fff;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
    }
    h1 {
        margin-top: 50px;
        font-size: 2rem;
        letter-spacing: 2px;
    }
    .menu, .game {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-top: 40px;
    }
    .menu button, .game button {
        margin: 10px;
        padding: 15px 30px;
        border: none;
        border-radius: 10px;
        background: #1a1a1a;
        color: #fff;
        font-weight: 600;
        cursor: pointer;
        transition: 0.3s;
    }
    .menu button:hover, .game button:hover {
        background: #333;
    }
    .game {
        display: none;
        flex-direction: column;
        align-items: center;
        width: 100%;
    }
    canvas {
        border: 2px solid #555;
        border-radius: 10px;
        margin-top: 20px;
    }
</style>
</head>
<body>

<h1>Jeux Satisfaisants</h1>

<div class="menu" id="menu">
    <button data-game="game1">1. Cliquer les bulles</button>
    <button data-game="game2">2. Couleurs arc-en-ciel</button>
    <button data-game="game3">3. Cercle rebondissant</button>
    <button data-game="game4">4. Lignes animées</button>
    <button data-game="game5">5. Confettis</button>
    <button data-game="game6">6. Cliquer pour scaler</button>
    <button data-game="game7">7. Cercle qui suit la souris</button>
    <button data-game="game8">8. Grille changeante</button>
    <button data-game="game9">9. Forme qui grossit</button>
    <button data-game="game10">10. Particules éclatantes</button>
</div>

<!-- Mini-jeux -->
<div class="game" id="game1">
    <button onclick="goBack()">← Retour au menu</button>
    <canvas id="canvas1" width="500" height="400"></canvas>
</div>

<div class="game" id="game2">
    <button onclick="goBack()">← Retour au menu</button>
    <canvas id="canvas2" width="500" height="400"></canvas>
</div>

<div class="game" id="game3">
    <button onclick="goBack()">← Retour au menu</button>
    <canvas id="canvas3" width="500" height="400"></canvas>
</div>

<div class="game" id="game4">
    <button onclick="goBack()">← Retour au menu</button>
    <canvas id="canvas4" width="500" height="400"></canvas>
</div>

<div class="game" id="game5">
    <button onclick="goBack()">← Retour au menu</button>
    <canvas id="canvas5" width="500" height="400"></canvas>
</div>

<div class="game" id="game6">
    <button onclick="goBack()">← Retour au menu</button>
    <canvas id="canvas6" width="500" height="400"></canvas>
</div>

<div class="game" id="game7">
    <button onclick="goBack()">← Retour au menu</button>
    <canvas id="canvas7" width="500" height="400"></canvas>
</div>

<div class="game" id="game8">
    <button onclick="goBack()">← Retour au menu</button>
    <canvas id="canvas8" width="500" height="400"></canvas>
</div>

<div class="game" id="game9">
    <button onclick="goBack()">← Retour au menu</button>
    <canvas id="canvas9" width="500" height="400"></canvas>
</div>

<div class="game" id="game10">
    <button onclick="goBack()">← Retour au menu</button>
    <canvas id="canvas10" width="500" height="400"></canvas>
</div>

<script>
const menu = document.getElementById("menu");
const games = document.querySelectorAll(".game");

menu.querySelectorAll("button").forEach(btn => {
    btn.addEventListener("click", () => {
        menu.style.display = "none";
        const game = document.getElementById(btn.dataset.game);
        game.style.display = "flex";
    });
});

function goBack() {
    games.forEach(g => g.style.display = "none");
    menu.style.display = "flex";
}

// --- Jeux ---
function setupCanvas(id) {
    const canvas = document.getElementById(id);
    const ctx = canvas.getContext("2d");
    return {canvas, ctx};
}

// 1. Cliquer les bulles
(function(){
    const {canvas, ctx} = setupCanvas("canvas1");
    let bubbles = [];
    for(let i=0;i<30;i++){
        bubbles.push({x:Math.random()*500, y:Math.random()*400, r:10+Math.random()*15, color:`hsl(${Math.random()*360},80%,60%)`});
    }
    canvas.addEventListener("click", e=>{
        bubbles.forEach(b=>{
            let dx = e.offsetX - b.x;
            let dy = e.offsetY - b.y;
            if(dx*dx+dy*dy<b.r*b.r) b.r = 0;
        });
    });
    function draw(){
        ctx.clearRect(0,0,500,400);
        bubbles.forEach(b=>{
            if(b.r>0){
                ctx.beginPath();
                ctx.arc(b.x,b.y,b.r,0,Math.PI*2);
                ctx.fillStyle=b.color;
                ctx.fill();
            }
        });
        requestAnimationFrame(draw);
    }
    draw();
})();

// 2. Couleurs arc-en-ciel
(function(){
    const {canvas, ctx} = setupCanvas("canvas2");
    let hue = 0;
    canvas.addEventListener("click", ()=>{ hue+=30; });
    function draw(){
        ctx.fillStyle=`hsl(${hue%360},100%,50%)`;
        ctx.fillRect(0,0,500,400);
        requestAnimationFrame(draw);
    }
    draw();
})();

// 3. Cercle rebondissant
(function(){
    const {canvas, ctx} = setupCanvas("canvas3");
    let x=250,y=200,dx=3,dy=2,r=30;
    function draw(){
        ctx.clearRect(0,0,500,400);
        ctx.beginPath();
        ctx.arc(x,y,r,0,Math.PI*2);
        ctx.fillStyle="cyan";
        ctx.fill();
        x+=dx; y+=dy;
        if(x<r||x>500-r) dx*=-1;
        if(y<r||y>400-r) dy*=-1;
        requestAnimationFrame(draw);
    }
    draw();
})();

// 4. Lignes animées
(function(){
    const {canvas, ctx} = setupCanvas("canvas4");
    let y = 0;
    function draw(){
        ctx.clearRect(0,0,500,400);
        for(let i=0;i<20;i++){
            ctx.beginPath();
            ctx.moveTo(0,(y+i*20)%400);
            ctx.lineTo(500,(y+i*20)%400);
            ctx.strokeStyle=`hsl(${i*18},100%,60%)`;
            ctx.lineWidth=4;
            ctx.stroke();
        }
        y+=2;
        requestAnimationFrame(draw);
    }
    draw();
})();

// 5. Confettis
(function(){
    const {canvas, ctx} = setupCanvas("canvas5");
    let confettis=[];
    for(let i=0;i<50;i++) confettis.push({x:Math.random()*500, y:Math.random()*400, w:5, h:10, color:`hsl(${Math.random()*360},80%,60%)`});
    function draw(){
        ctx.clearRect(0,0,500,400);
        confettis.forEach(c=>{
            ctx.fillStyle=c.color;
            ctx.fillRect(c.x,c.y,c.w,c.h);
            c.y+=2;
            if(c.y>400) c.y=0;
        });
        requestAnimationFrame(draw);
    }
    draw();
})();

// 6. Cliquer pour scaler
(function(){
    const {canvas, ctx} = setupCanvas("canvas6");
    let size=50;
    canvas.addEventListener("click", ()=>size=size===50?100:50);
    function draw(){
        ctx.clearRect(0,0,500,400);
        ctx.fillStyle="magenta";
        ctx.fillRect(225,175,size,size);
        requestAnimationFrame(draw);
    }
    draw();
})();

// 7. Cercle qui suit la souris
(function(){
    const {canvas, ctx} = setupCanvas("canvas7");
    let mx=250,my=200;
    canvas.addEventListener("mousemove", e=>{ mx=e.offsetX; my=e.offsetY; });
    function draw(){
        ctx.clearRect(0,0,500,400);
        ctx.beginPath();
        ctx.arc(mx,my,30,0,Math.PI*2);
        ctx.fillStyle="orange";
        ctx.fill();
        requestAnimationFrame(draw);
    }
    draw();
})();

// 8. Grille changeante
(function(){
    const {canvas, ctx} = setupCanvas("canvas8");
    let t=0;
    canvas.addEventListener("click", ()=>t+=1);
    function draw(){
        ctx.clearRect(0,0,500,400);
        for(let i=0;i<10;i++){
            for(let j=0;j<8;j++){
                ctx.fillStyle=`hsl(${(i*10+j*20+t*20)%360},70%,50%)`;
                ctx.fillRect(i*50,j*50,45,45);
            }
        }
        requestAnimationFrame(draw);
    }
    draw();
})();

// 9. Forme qui grossit
(function(){
    const {canvas, ctx} = setupCanvas("canvas9");
    let r=20, dr=1;
    function draw(){
        ctx.clearRect(0,0,500,400);
        ctx.beginPath();
        ctx.arc(250,200,r,0,Math.PI*2);
        ctx.fillStyle="lime";
        ctx.fill();
        r+=dr;
        if(r>80||r<20) dr*=-1;
        requestAnimationFrame(draw);
    }
    draw();
})();

// 10. Particules éclatantes
(function(){
    const {canvas, ctx} = setupCanvas("canvas10");
    let particles=[];
    for(let i=0;i<100;i++) particles.push({x:250,y:200,vx:(Math.random()-0.5)*4,vy:(Math.random()-0.5)*4,r:3,color:`hsl(${Math.random()*360},80%,60%)`});
    function draw(){
        ctx.clearRect(0,0,500,400);
        particles.forEach(p=>{
            ctx.beginPath();
            ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
            ctx.fillStyle=p.color;
            ctx.fill();
            p.x+=p.vx; p.y+=p.vy;
            if(p.x<0||p.x>500) p.vx*=-1;
            if(p.y<0||p.y>400) p.vy*=-1;
        });
        requestAnimationFrame(draw);
    }
    draw();
})();
</script>

</body>
</html>
